- name: upgrade apt packages
  become: true
  apt:
    cache_valid_time: 604800
    state: latest
    upgrade: yes

- name: install apt packages for basic development
  become: true
  apt:
    cache_valid_time: 604800
    state: latest
    name:
      - build-essential
      - sudo
      - cmake
      - ccache
      - ninja-build
      - clang
      - clangd
      - clang-tidy
      - clang-format
      - lld
      - lldb
      - gcc
      - g++
      - tmux
      - htop
      - nvtop
      - curl
      - wget
      - zip
      - unzip
      - rsync
      - ripgrep
      - net-tools 
      - tree
      - gnupg2
      - ca-certificates
      - gpg
      - gpg-agent
      - pinentry-curses
      - neofetch
      - file
      - pkg-config
      - libssl-dev
      - libudev-dev

- name: install linux-tools-{{ ansible_kernel }}
  become: true
  apt:
    name: linux-tools-{{ ansible_kernel }}
    state: present
  when: not wsl

- name: install configuration files
  synchronize:
    src: files/
    dest: ~/
    recursive: true
